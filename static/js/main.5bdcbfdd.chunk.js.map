{"version":3,"sources":["../../dist/index.es.js","Footer.js","App.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","toString","slice","constructor","name","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","_typeof","obj","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","p","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_superPropBase","object","property","_get","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","set","_defineProperty","_set","isStrict","Error","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","isString","str","String","DIRECTION","forceDirection","direction","ActionDetails","cursorPos","oldValue","oldSelection","startChangePos","start","Math","min","substr","insertedCount","max","end","removedCount","substring","ChangeDetails","details","inserted","rawInserted","skip","tailShift","ContinuousTailDetails","stop","tail","masked","append","aggregate","_appendPlaceholder","pos","shiftChar","state","IMask","el","opts","InputMask","Masked","_value","_update","DEFAULTS","isInitialized","withValueRefresh","bind","reset","input","doCommit","fromPos","toPos","extractInput","appendTo","ch","flags","doPrepare","checkTail","consistentState","_appendCharRaw","consistentTail","appended","doValidate","beforeTailState","overwrite","shiftBefore","tailDetails","appendTail","_beforeTailState","ci","_appendChar","fn","_refreshing","rawInput","rawInputValue","ret","_isolated","prepare","validate","parent","commit","format","parse","deleteCount","removeDirection","tailPos","extractTail","nearestInputPos","remove","resolve","doParse","doFormat","raw","maskedClass","mask","RegExp","MaskedRegExp","MaskedPattern","Date","MaskedDate","Number","MaskedNumber","MaskedDynamic","Function","MaskedFunction","console","warn","createMask","MaskedClass","v","DEFAULT_INPUT_DEFINITIONS","PatternInputDefinition","blockOpts","_isFilled","isOptional","lazy","placeholderChar","Boolean","_this$masked","_this$masked2","_this$masked3","minPos","maxPos","boundPos","isComplete","_this$masked4","_this$parent","unmaskedValue","PatternFixedDefinition","_isRawInput","char","isResolved","isUnmasking","ChunksTailDetails","chunks","map","join","tailChunk","lastChunk","extendLast","extend","firstTailChunk","shift","blockIndex","chunk","lastBlockIter","_mapPosToBlock","chunkBlock","index","_stops","_blocks","remainChars","chunkShiftPos","splice","c","cstate","_Masked","definitions","_rebuildMask","_this","defs","_maskedBlocks","pattern","unmaskingBlock","optionalBlock","blocks","bNames","filter","bName","sort","a","b","maskedBlock","_isInput","STOP_CHAR","ESCAPE_CHAR","def","forEach","blockIter","bi","_block","blockDetails","_this2","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","_blockStartPos","_","stopBefore","si","toBlockIndex","_this3","startBlockIter","startBlockIndex","endBlockIndex","args","bDetails","accVal","_block2","blockStartPos","offset","reduce","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","beginBlockData","beginBlockOffset","beginBlockIndex","beginBlock","beginBlockCursorPos","cursorAtRight","cursorAtLeft","searchBlockIndex","blockIndexAtLeft","blockAtLeft","blockInputPos","firstInputAtRight","blockAtRight","_blockInputPos","_bi","_block3","_blockInputPos2","firstFilledBlockIndexAtRight","_bi2","filledBlock","_blockInputPos3","firstEmptyInputBlockIndex","firstFilledInputBlockIndex","_bi3","_block4","_blockInputPos4","_bi4","_block5","_blockInputPos5","blockAlignedPos","isInput","_bi5","_block6","_blockInputPos6","firstInputBlockAlignedIndex","firstInputBlockAlignedPos","_bi6","_block7","_blockInputPos7","_bi7","_block8","_blockInputPos8","_bi8","_block9","_blockInputPos9","alignedPos","maskedBlocks","_this4","indices","gi","maskedState","every","block","InputDefinition","FixedDefinition","MaskedRange","_MaskedPattern","to","maxLength","fromStr","padStart","toStr","sameCharsCount","replace","repeat","minstr","maxstr","_ref2","match","placeholder","num","padEnd","autofix","val","prepStr","nextVal","_this$boundaries","boundaries","_this$boundaries2","_get2","firstNonZero","search","_matchFrom","_this$boundaries3","_this$boundaries4","_len","_key","concat","GET_DEFAULT_BLOCKS","Y","getFullYear","m","getMonth","d","getDate","bk","date","isDateExist","typedValue","_str$split2","split","day","month","year","MaskElement","selectionStart","selectionEnd","_unsafeSelect","e","handlers","_unsafeSelectionStart","_unsafeSelectionEnd","HTMLMaskElement","_MaskElement","_handlers","setSelectionRange","event","_toggleEventHandler","EVENTS_MAP","handler","removeEventListener","addEventListener","getRootNode","document","rootElement","activeElement","selectionChange","drop","click","focus","HTMLContenteditableMaskElement","_HTMLMaskElement","createRange","range","setStart","firstChild","setEnd","lastChild","root","selection","getSelection","removeAllRanges","addRange","anchorOffset","textContent","isContentEditable","tagName","_listeners","_unmaskedValue","_saveSelection","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","bindEvents","unbindEvents","ev","listeners","l","_selection","newUnmaskedValue","newValue","isChanged","_fireChangeEvents","restOpts","updateMask","maskEquals","updateOpts","objectIncludes","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","updateOptions","updateControl","_delayUpdateCursor","_abortUpdateCursor","_changingCursorPos","_cursorChanging","setTimeout","_fireEvent","clearTimeout","hIndex","oldRawValue","removed","updateCursor","preventDefault","stopPropagation","_unbindEvents","isActive","select","MaskedEnum","enum","some","RE_DMS","RE_DD","fill","count","validateDD","serializeDMS","lat","lon","sep","res","item","dmsToDecimal","degrees","minutes","seconds","precision","factor","pow","dd","round","decimalToDMS","isLon","absolute","abs","floor","minutesFloat","minSecValidate","_ref","getDegreeMask","getMinuteMask","getSecondMask","getArcSecondMask","getDirectionMask","toUpperCase","useCoordMask","inputRef","controlledValue","degreeChar","minuteChar","secondChar","spacerChar","ddPrecision","dmsPrecision","onChange","maskRef","useRef","useMemo","_ref2$degreeChar","_ref2$minuteChar","_ref2$secondChar","_ref2$spacerChar","_ref2$placeholderChar","_ref2$dmsPrecision","DC","MC","SC","SPACER","DOT","AS","YD","YM","YS","NS","XD","XM","XS","EW","createMask$1","handleChange","useCallback","normalized","normalizeInput","validateDMS","dms","parseFloat","parseDMS","initMask","element","current","destroy","on","_maskRef$current","useEffect","dmsValue","latArr","lonArr","convertInput","maskedValue","CoordinateInput","className","inputProps","_ref$placeholder","onBlur","innerRef","React","createElement","dir","ref","type","propTypes","PropTypes","string","number","func","isRequired","repoName","repoUrl","tagImg","forksImg","starsImg","Footer","aria-label","style","height","href","src","alt","initialState","selectOptions","App","useState","setDDPrecision","setDMSPrecision","selected","setSelected","setState","dec","handleReset","handleBlur","log","handleChangeDDPrecision","parseInt","handleChangeDMSPrecision","handleSelectChange","output","JSON","stringify","id","disabled","onClick","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5bdcbfdd.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useRef, useMemo, useCallback, useEffect } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = _superPropBase(target, property);\n\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        _defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nfunction _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n/**\r\n  Direction\r\n  @prop {string} NONE\r\n  @prop {string} LEFT\r\n  @prop {string} FORCE_LEFT\r\n  @prop {string} RIGHT\r\n  @prop {string} FORCE_RIGHT\r\n*/\n\nvar DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n/** */\n\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n\n    default:\n      return direction;\n  }\n}\n\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a),\n      arrB = Array.isArray(b),\n      i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n\n    for (i = 0; i < a.length; i++) {\n      if (!objectIncludes(a[i], b[i])) return false;\n    }\n\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && _typeof(a) === 'object' && _typeof(b) === 'object') {\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    var keys = Object.keys(a); // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = 0; i < keys.length; i++) {\n      if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    }\n\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n\n  return false;\n}\n\n/** Provides details of changing input */\n\nvar ActionDetails =\n/*#__PURE__*/\nfunction () {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n  function ActionDetails(value, cursorPos, oldValue, oldSelection) {\n    _classCallCheck(this, ActionDetails);\n\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection; // double check if left part was changed (autofilling, other non-standard input triggers)\n\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n  /**\r\n    Start changing position\r\n    @readonly\r\n  */\n\n\n  _createClass(ActionDetails, [{\n    key: \"startChangePos\",\n    get: function get() {\n      return Math.min(this.cursorPos, this.oldSelection.start);\n    }\n    /**\r\n      Inserted symbols count\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"insertedCount\",\n    get: function get() {\n      return this.cursorPos - this.startChangePos;\n    }\n    /**\r\n      Inserted symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"inserted\",\n    get: function get() {\n      return this.value.substr(this.startChangePos, this.insertedCount);\n    }\n    /**\r\n      Removed symbols count\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removedCount\",\n    get: function get() {\n      // Math.max for opposite operation\n      return Math.max(this.oldSelection.end - this.startChangePos || // for Delete\n      this.oldValue.length - this.value.length, 0);\n    }\n    /**\r\n      Removed symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removed\",\n    get: function get() {\n      return this.oldValue.substr(this.startChangePos, this.removedCount);\n    }\n    /**\r\n      Unchanged head symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this.value.substring(0, this.startChangePos);\n    }\n    /**\r\n      Unchanged tail symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"tail\",\n    get: function get() {\n      return this.value.substring(this.startChangePos + this.insertedCount);\n    }\n    /**\r\n      Remove direction\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removeDirection\",\n    get: function get() {\n      if (!this.removedCount || this.insertedCount) return DIRECTION.NONE; // align right if delete at right or if range removed (event with backspace)\n\n      return this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos ? DIRECTION.RIGHT : DIRECTION.LEFT;\n    }\n  }]);\n\n  return ActionDetails;\n}();\n\n/**\r\n  Provides details of changing model value\r\n  @param {Object} [details]\r\n  @param {string} [details.inserted] - Inserted symbols\r\n  @param {boolean} [details.skip] - Can skip chars\r\n  @param {number} [details.removeCount] - Removed symbols count\r\n  @param {number} [details.tailShift] - Additional offset if any changes occurred before tail\r\n*/\nvar ChangeDetails =\n/*#__PURE__*/\nfunction () {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n  function ChangeDetails(details) {\n    _classCallCheck(this, ChangeDetails);\n\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n  /**\r\n    Aggregate changes\r\n    @returns {ChangeDetails} `this`\r\n  */\n\n\n  _createClass(ChangeDetails, [{\n    key: \"aggregate\",\n    value: function aggregate(details) {\n      this.rawInserted += details.rawInserted;\n      this.skip = this.skip || details.skip;\n      this.inserted += details.inserted;\n      this.tailShift += details.tailShift;\n      return this;\n    }\n    /** Total offset considering all changes */\n\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return this.tailShift + this.inserted.length;\n    }\n  }]);\n\n  return ChangeDetails;\n}();\n\n/** Provides details of continuous extracted tail */\nvar ContinuousTailDetails =\n/*#__PURE__*/\nfunction () {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n  function ContinuousTailDetails() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var stop = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, ContinuousTailDetails);\n\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n\n  _createClass(ContinuousTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n  }, {\n    key: \"extend\",\n    value: function extend(tail) {\n      this.value += String(tail);\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      return masked.append(this.toString(), {\n        tail: true\n      }).aggregate(masked._appendPlaceholder());\n    }\n  }, {\n    key: \"shiftBefore\",\n    value: function shiftBefore(pos) {\n      if (this.from >= pos || !this.value.length) return '';\n      var shiftChar = this.value[0];\n      this.value = this.value.slice(1);\n      return shiftChar;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        value: this.value,\n        from: this.from,\n        stop: this.stop\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return ContinuousTailDetails;\n}();\n\n/**\r\n * Applies mask on element.\r\n * @constructor\r\n * @param {HTMLInputElement|HTMLTextAreaElement|MaskElement} el - Element to apply mask\r\n * @param {Object} opts - Custom mask options\r\n * @return {InputMask}\r\n */\nfunction IMask(el) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\n/** Supported mask type */\n\n/** Provides common masking stuff */\nvar Masked =\n/*#__PURE__*/\nfunction () {\n  // $Shape<MaskedOptions>; TODO after fix https://github.com/facebook/flow/issues/4773\n\n  /** @type {Mask} */\n\n  /** */\n  // $FlowFixMe no ideas\n\n  /** Transforms value before mask processing */\n\n  /** Validates if value is acceptable */\n\n  /** Does additional processing in the end of editing */\n\n  /** Format typed value to string */\n\n  /** Parse strgin to get typed value */\n\n  /** Enable characters overwriting */\n\n  /** */\n  function Masked(opts) {\n    _classCallCheck(this, Masked);\n\n    this._value = '';\n\n    this._update(Object.assign({}, Masked.DEFAULTS, {}, opts));\n\n    this.isInitialized = true;\n  }\n  /** Sets and applies new options */\n\n\n  _createClass(Masked, [{\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      if (!Object.keys(opts).length) return;\n      this.withValueRefresh(this._update.bind(this, opts));\n    }\n    /**\r\n      Sets new options\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_update\",\n    value: function _update(opts) {\n      Object.assign(this, opts);\n    }\n    /** Mask state */\n\n  }, {\n    key: \"reset\",\n\n    /** Resets value */\n    value: function reset() {\n      this._value = '';\n    }\n    /** */\n\n  }, {\n    key: \"resolve\",\n\n    /** Resolve new value */\n    value: function resolve(value) {\n      this.reset();\n      this.append(value, {\n        input: true\n      }, '');\n      this.doCommit();\n      return this.value;\n    }\n    /** */\n\n  }, {\n    key: \"nearestInputPos\",\n\n    /** Finds nearest input position in direction */\n    value: function nearestInputPos(cursorPos, direction) {\n      return cursorPos;\n    }\n    /** Extracts value in range considering flags */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return this.value.slice(fromPos, toPos);\n    }\n    /** Extracts tail in range */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new ContinuousTailDetails(this.extractInput(fromPos, toPos), fromPos);\n    }\n    /** Appends tail */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n      return tail.appendTo(this);\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ch = this.doPrepare(ch, flags);\n      if (!ch) return new ChangeDetails();\n      this._value += ch;\n      return new ChangeDetails({\n        inserted: ch,\n        rawInserted: ch\n      });\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var checkTail = arguments.length > 2 ? arguments[2] : undefined;\n      var consistentState = this.state;\n\n      var details = this._appendCharRaw(ch, flags);\n\n      if (details.inserted) {\n        var consistentTail;\n        var appended = this.doValidate(flags) !== false;\n\n        if (appended && checkTail != null) {\n          // validation ok, check tail\n          var beforeTailState = this.state;\n\n          if (this.overwrite) {\n            consistentTail = checkTail.state;\n            checkTail.shiftBefore(this.value.length);\n          }\n\n          var tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString(); // if ok, rollback state after tail\n\n          if (appended && tailDetails.inserted) this.state = beforeTailState;\n        } // revert all if something went wrong\n\n\n        if (!appended) {\n          details = new ChangeDetails();\n          this.state = consistentState;\n          if (checkTail && consistentTail) checkTail.state = consistentTail;\n        }\n      }\n\n      return details;\n    }\n    /** Appends optional placeholder at end */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      return new ChangeDetails();\n    }\n    /** Appends symbols considering flags */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      if (!isString(str)) throw new Error('value should be string');\n      var details = new ChangeDetails();\n      var checkTail = isString(tail) ? new ContinuousTailDetails(String(tail)) : tail;\n      if (flags.tail) flags._beforeTailState = this.state;\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        details.aggregate(this._appendChar(str[ci], flags, checkTail));\n      } // append tail but aggregate only tailShift\n\n\n      if (checkTail != null) {\n        details.tailShift += this.appendTail(checkTail).tailShift; // TODO it's a good idea to clear state after appending ends\n        // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n        // this._resetBeforeTailState();\n      }\n\n      return details;\n    }\n    /** */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n      return new ChangeDetails();\n    }\n    /** Calls function and reapplies current value */\n\n  }, {\n    key: \"withValueRefresh\",\n    value: function withValueRefresh(fn) {\n      if (this._refreshing || !this.isInitialized) return fn();\n      this._refreshing = true;\n      var rawInput = this.rawInputValue;\n      var value = this.value;\n      var ret = fn();\n      this.rawInputValue = rawInput; // append lost trailing chars at end\n\n      if (this.value !== value && value.indexOf(this._value) === 0) {\n        this.append(value.slice(this._value.length), {}, '');\n      }\n\n      delete this._refreshing;\n      return ret;\n    }\n    /** */\n\n  }, {\n    key: \"runIsolated\",\n    value: function runIsolated(fn) {\n      if (this._isolated || !this.isInitialized) return fn(this);\n      this._isolated = true;\n      var state = this.state;\n      var ret = fn(this);\n      this.state = state;\n      delete this._isolated;\n      return ret;\n    }\n    /**\r\n      Prepares string before mask processing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.prepare ? this.prepare(str, this, flags) : str;\n    }\n    /**\r\n      Validates if value is acceptable\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n    }\n    /**\r\n      Does additional processing in the end of editing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.commit) this.commit(this.value, this);\n    }\n    /** */\n\n  }, {\n    key: \"doFormat\",\n    value: function doFormat(value) {\n      return this.format ? this.format(value, this) : value;\n    }\n    /** */\n\n  }, {\n    key: \"doParse\",\n    value: function doParse(str) {\n      return this.parse ? this.parse(str, this) : str;\n    }\n    /** */\n\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount, inserted, removeDirection) {\n      var tailPos = start + deleteCount;\n      var tail = this.extractTail(tailPos);\n      var startChangePos = this.nearestInputPos(start, removeDirection);\n      var changeDetails = new ChangeDetails({\n        tailShift: startChangePos - start // adjust tailShift if start was aligned\n\n      }).aggregate(this.remove(startChangePos)).aggregate(this.append(inserted, {\n        input: true\n      }, tail));\n      return changeDetails;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this.value\n      };\n    },\n    set: function set(state) {\n      this._value = state._value;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      this.resolve(value);\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.value;\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {}, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.doParse(this.value);\n    },\n    set: function set(value) {\n      this.value = this.doFormat(value);\n    }\n    /** Value that includes raw user input */\n\n  }, {\n    key: \"rawInputValue\",\n    get: function get() {\n      return this.extractInput(0, this.value.length, {\n        raw: true\n      });\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {\n        raw: true\n      }, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return Masked;\n}();\nMasked.DEFAULTS = {\n  format: function format(v) {\n    return v;\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nIMask.Masked = Masked;\n\n/** Get Masked class by mask type */\n\nfunction maskedClass(mask) {\n  if (mask == null) {\n    throw new Error('mask property should be defined');\n  } // $FlowFixMe\n\n\n  if (mask instanceof RegExp) return IMask.MaskedRegExp; // $FlowFixMe\n\n  if (isString(mask)) return IMask.MaskedPattern; // $FlowFixMe\n\n  if (mask instanceof Date || mask === Date) return IMask.MaskedDate; // $FlowFixMe\n\n  if (mask instanceof Number || typeof mask === 'number' || mask === Number) return IMask.MaskedNumber; // $FlowFixMe\n\n  if (Array.isArray(mask) || mask === Array) return IMask.MaskedDynamic; // $FlowFixMe\n\n  if (IMask.Masked && mask.prototype instanceof IMask.Masked) return mask; // $FlowFixMe\n\n  if (mask instanceof Function) return IMask.MaskedFunction;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  // $FlowFixMe\n\n  return IMask.Masked;\n}\n/** Creates new {@link Masked} depending on mask type */\n\nfunction createMask(opts) {\n  // $FlowFixMe\n  if (IMask.Masked && opts instanceof IMask.Masked) return opts;\n  opts = Object.assign({}, opts);\n  var mask = opts.mask; // $FlowFixMe\n\n  if (IMask.Masked && mask instanceof IMask.Masked) return mask;\n  var MaskedClass = maskedClass(mask);\n  if (!MaskedClass) throw new Error('Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.');\n  return new MaskedClass(opts);\n}\nIMask.createMask = createMask;\n\nvar DEFAULT_INPUT_DEFINITIONS = {\n  '0': /\\d/,\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n  // http://stackoverflow.com/a/22075070\n  '*': /./\n};\n/** */\n\nvar PatternInputDefinition =\n/*#__PURE__*/\nfunction () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternInputDefinition(opts) {\n    _classCallCheck(this, PatternInputDefinition);\n\n    var mask = opts.mask,\n        blockOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n    this.masked = createMask({\n      mask: mask\n    });\n    Object.assign(this, blockOpts);\n  }\n\n  _createClass(PatternInputDefinition, [{\n    key: \"reset\",\n    value: function reset() {\n      this._isFilled = false;\n      this.masked.reset();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      if (fromPos === 0 && toPos >= 1) {\n        this._isFilled = false;\n        return this.masked.remove(fromPos, toPos);\n      }\n\n      return new ChangeDetails();\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this._isFilled) return new ChangeDetails();\n      var state = this.masked.state; // simulate input\n\n      var details = this.masked._appendChar(str, flags);\n\n      if (details.inserted && this.doValidate(flags) === false) {\n        details.inserted = details.rawInserted = '';\n        this.masked.state = state;\n      }\n\n      if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n        details.inserted = this.placeholderChar;\n      }\n\n      details.skip = !details.inserted && !this.isOptional;\n      this._isFilled = Boolean(details.inserted);\n      return details;\n    }\n  }, {\n    key: \"append\",\n    value: function append() {\n      var _this$masked;\n\n      return (_this$masked = this.masked).append.apply(_this$masked, arguments);\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new ChangeDetails();\n      if (this._isFilled || this.isOptional) return details;\n      this._isFilled = true;\n      details.inserted = this.placeholderChar;\n      return details;\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this$masked2;\n\n      return (_this$masked2 = this.masked).extractTail.apply(_this$masked2, arguments);\n    }\n  }, {\n    key: \"appendTail\",\n    value: function appendTail() {\n      var _this$masked3;\n\n      return (_this$masked3 = this.masked).appendTail.apply(_this$masked3, arguments);\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n      return this.masked.extractInput(fromPos, toPos, flags);\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this.value.length;\n      var boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n\n      switch (direction) {\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          return this.isComplete ? boundPos : minPos;\n\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n          return this.isComplete ? boundPos : maxPos;\n\n        case DIRECTION.NONE:\n        default:\n          return boundPos;\n      }\n    }\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this$masked4, _this$parent;\n\n      return (_this$masked4 = this.masked).doValidate.apply(_this$masked4, arguments) && (!this.parent || (_this$parent = this.parent).doValidate.apply(_this$parent, arguments));\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      this.masked.doCommit();\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.masked.value || (this._isFilled && !this.isOptional ? this.placeholderChar : '');\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.masked.unmaskedValue;\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return Boolean(this.masked.value) || this.isOptional;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        masked: this.masked.state,\n        _isFilled: this._isFilled\n      };\n    },\n    set: function set(state) {\n      this.masked.state = state.masked;\n      this._isFilled = state._isFilled;\n    }\n  }]);\n\n  return PatternInputDefinition;\n}();\n\nvar PatternFixedDefinition =\n/*#__PURE__*/\nfunction () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternFixedDefinition(opts) {\n    _classCallCheck(this, PatternFixedDefinition);\n\n    Object.assign(this, opts);\n    this._value = '';\n  }\n\n  _createClass(PatternFixedDefinition, [{\n    key: \"reset\",\n    value: function reset() {\n      this._isRawInput = false;\n      this._value = '';\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n      if (!this._value) this._isRawInput = false;\n      return new ChangeDetails();\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this._value.length;\n\n      switch (direction) {\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          return minPos;\n\n        case DIRECTION.NONE:\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n        default:\n          return maxPos;\n      }\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var details = new ChangeDetails();\n      if (this._value) return details;\n      var appended = this.char === str[0];\n      var isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && !flags.tail;\n      if (isResolved) details.rawInserted = this.char;\n      this._value = details.inserted = this.char;\n      this._isRawInput = isResolved && (flags.raw || flags.input);\n      return details;\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new ChangeDetails();\n      if (this._value) return details;\n      this._value = details.inserted = this.char;\n      return details;\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new ContinuousTailDetails('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n      return tail.appendTo(this);\n    }\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      var details = this._appendChar(str, flags);\n\n      if (tail != null) {\n        details.tailShift += this.appendTail(tail).tailShift;\n      }\n\n      return details;\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {}\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.isUnmasking ? this.value : '';\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this._value,\n        _isRawInput: this._isRawInput\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return PatternFixedDefinition;\n}();\n\nvar ChunksTailDetails =\n/*#__PURE__*/\nfunction () {\n  /** */\n  function ChunksTailDetails() {\n    var chunks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    _classCallCheck(this, ChunksTailDetails);\n\n    this.chunks = chunks;\n    this.from = from;\n  }\n\n  _createClass(ChunksTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.chunks.map(String).join('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"extend\",\n    value: function extend(tailChunk) {\n      if (!String(tailChunk)) return;\n      if (isString(tailChunk)) tailChunk = new ContinuousTailDetails(String(tailChunk));\n      var lastChunk = this.chunks[this.chunks.length - 1];\n      var extendLast = lastChunk && ( // if stops are same or tail has no stop\n      lastChunk.stop === tailChunk.stop || tailChunk.stop == null) && // if tail chunk goes just after last chunk\n      tailChunk.from === lastChunk.from + lastChunk.toString().length;\n\n      if (tailChunk instanceof ContinuousTailDetails) {\n        // check the ability to extend previous chunk\n        if (extendLast) {\n          // extend previous chunk\n          lastChunk.extend(tailChunk.toString());\n        } else {\n          // append new chunk\n          this.chunks.push(tailChunk);\n        }\n      } else if (tailChunk instanceof ChunksTailDetails) {\n        if (tailChunk.stop == null) {\n          // unwrap floating chunks to parent, keeping `from` pos\n          var firstTailChunk;\n\n          while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n            firstTailChunk = tailChunk.chunks.shift();\n            firstTailChunk.from += tailChunk.from;\n            this.extend(firstTailChunk);\n          }\n        } // if tail chunk still has value\n\n\n        if (tailChunk.toString()) {\n          // if chunks contains stops, then popup stop to container\n          tailChunk.stop = tailChunk.blockIndex;\n          this.chunks.push(tailChunk);\n        }\n      }\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      // $FlowFixMe\n      if (!(masked instanceof IMask.MaskedPattern)) {\n        var tail = new ContinuousTailDetails(this.toString());\n        return tail.appendTo(masked);\n      }\n\n      var details = new ChangeDetails();\n\n      for (var ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n        var chunk = this.chunks[ci];\n\n        var lastBlockIter = masked._mapPosToBlock(masked.value.length);\n\n        var stop = chunk.stop;\n        var chunkBlock = void 0;\n\n        if (stop && ( // if block not found or stop is behind lastBlock\n        !lastBlockIter || lastBlockIter.index <= stop)) {\n          if (chunk instanceof ChunksTailDetails || // for continuous block also check if stop is exist\n          masked._stops.indexOf(stop) >= 0) {\n            details.aggregate(masked._appendPlaceholder(stop));\n          }\n\n          chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n        }\n\n        if (chunkBlock) {\n          var tailDetails = chunkBlock.appendTail(chunk);\n          tailDetails.skip = false; // always ignore skip, it will be set on last\n\n          details.aggregate(tailDetails);\n          masked._value += tailDetails.inserted; // get not inserted chars\n\n          var remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n          if (remainChars) details.aggregate(masked.append(remainChars, {\n            tail: true\n          }));\n        } else {\n          details.aggregate(masked.append(chunk.toString(), {\n            tail: true\n          }));\n        }\n      }\n      return details;\n    }\n  }, {\n    key: \"shiftBefore\",\n    value: function shiftBefore(pos) {\n      if (this.from >= pos || !this.chunks.length) return '';\n      var chunkShiftPos = pos - this.from;\n      var ci = 0;\n\n      while (ci < this.chunks.length) {\n        var chunk = this.chunks[ci];\n        var shiftChar = chunk.shiftBefore(chunkShiftPos);\n\n        if (chunk.toString()) {\n          // chunk still contains value\n          // but not shifted - means no more available chars to shift\n          if (!shiftChar) break;\n          ++ci;\n        } else {\n          // clean if chunk has no value\n          this.chunks.splice(ci, 1);\n        }\n\n        if (shiftChar) return shiftChar;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        chunks: this.chunks.map(function (c) {\n          return c.state;\n        }),\n        from: this.from,\n        stop: this.stop,\n        blockIndex: this.blockIndex\n      };\n    },\n    set: function set(state) {\n      var chunks = state.chunks,\n          props = _objectWithoutProperties(state, [\"chunks\"]);\n\n      Object.assign(this, props);\n      this.chunks = chunks.map(function (cstate) {\n        var chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new ContinuousTailDetails(); // $FlowFixMe already checked above\n\n        chunk.state = cstate;\n        return chunk;\n      });\n    }\n  }]);\n\n  return ChunksTailDetails;\n}();\n\n/**\r\n  Pattern mask\r\n  @param {Object} opts\r\n  @param {Object} opts.blocks\r\n  @param {Object} opts.definitions\r\n  @param {string} opts.placeholderChar\r\n  @param {boolean} opts.lazy\r\n*/\nvar MaskedPattern =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedPattern, _Masked);\n\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Show placeholder only when needed */\n  function MaskedPattern() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, MaskedPattern);\n\n    // TODO type $Shape<MaskedPatternOptions>={} does not work\n    opts.definitions = Object.assign({}, DEFAULT_INPUT_DEFINITIONS, opts.definitions);\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedPattern).call(this, Object.assign({}, MaskedPattern.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n    @param {Object} opts\r\n  */\n\n\n  _createClass(MaskedPattern, [{\n    key: \"_update\",\n    value: function _update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"_update\", this).call(this, opts);\n\n      this._rebuildMask();\n    }\n    /** */\n\n  }, {\n    key: \"_rebuildMask\",\n    value: function _rebuildMask() {\n      var _this = this;\n\n      var defs = this.definitions;\n      this._blocks = [];\n      this._stops = [];\n      this._maskedBlocks = {};\n      var pattern = this.mask;\n      if (!pattern || !defs) return;\n      var unmaskingBlock = false;\n      var optionalBlock = false;\n\n      for (var i = 0; i < pattern.length; ++i) {\n        if (this.blocks) {\n          var _ret = function () {\n            var p = pattern.slice(i);\n            var bNames = Object.keys(_this.blocks).filter(function (bName) {\n              return p.indexOf(bName) === 0;\n            }); // order by key length\n\n            bNames.sort(function (a, b) {\n              return b.length - a.length;\n            }); // use block name with max length\n\n            var bName = bNames[0];\n\n            if (bName) {\n              var maskedBlock = createMask(Object.assign({\n                parent: _this,\n                lazy: _this.lazy,\n                placeholderChar: _this.placeholderChar,\n                overwrite: _this.overwrite\n              }, _this.blocks[bName]));\n\n              if (maskedBlock) {\n                _this._blocks.push(maskedBlock); // store block index\n\n\n                if (!_this._maskedBlocks[bName]) _this._maskedBlocks[bName] = [];\n\n                _this._maskedBlocks[bName].push(_this._blocks.length - 1);\n              }\n\n              i += bName.length - 1;\n              return \"continue\";\n            }\n          }();\n\n          if (_ret === \"continue\") continue;\n        }\n\n        var char = pattern[i];\n\n        var _isInput = char in defs;\n\n        if (char === MaskedPattern.STOP_CHAR) {\n          this._stops.push(this._blocks.length);\n\n          continue;\n        }\n\n        if (char === '{' || char === '}') {\n          unmaskingBlock = !unmaskingBlock;\n          continue;\n        }\n\n        if (char === '[' || char === ']') {\n          optionalBlock = !optionalBlock;\n          continue;\n        }\n\n        if (char === MaskedPattern.ESCAPE_CHAR) {\n          ++i;\n          char = pattern[i];\n          if (!char) break;\n          _isInput = false;\n        }\n\n        var def = _isInput ? new PatternInputDefinition({\n          parent: this,\n          lazy: this.lazy,\n          placeholderChar: this.placeholderChar,\n          mask: defs[char],\n          isOptional: optionalBlock\n        }) : new PatternFixedDefinition({\n          char: char,\n          isUnmasking: unmaskingBlock\n        });\n\n        this._blocks.push(def);\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"reset\",\n\n    /**\r\n      @override\r\n    */\n    value: function reset() {\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"reset\", this).call(this);\n\n      this._blocks.forEach(function (b) {\n        return b.reset();\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n\n    /**\r\n      @override\r\n    */\n    value: function doCommit() {\n      this._blocks.forEach(function (b) {\n        return b.doCommit();\n      });\n\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"doCommit\", this).call(this);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"appendTail\",\n\n    /**\r\n      @override\r\n    */\n    value: function appendTail(tail) {\n      return _get(_getPrototypeOf(MaskedPattern.prototype), \"appendTail\", this).call(this, tail).aggregate(this._appendPlaceholder());\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ch = this.doPrepare(ch, flags);\n\n      var blockIter = this._mapPosToBlock(this.value.length);\n\n      var details = new ChangeDetails();\n      if (!blockIter) return details;\n\n      for (var bi = blockIter.index;; ++bi) {\n        var _block = this._blocks[bi];\n        if (!_block) break;\n\n        var blockDetails = _block._appendChar(ch, flags);\n\n        var skip = blockDetails.skip;\n        details.aggregate(blockDetails);\n        if (skip || blockDetails.rawInserted) break; // go next char\n      }\n\n      return details;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this2 = this;\n\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var chunkTail = new ChunksTailDetails();\n      if (fromPos === toPos) return chunkTail;\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, bi, bFromPos, bToPos) {\n        var blockChunk = b.extractTail(bFromPos, bToPos);\n        blockChunk.stop = _this2._findStopBefore(bi);\n        blockChunk.from = _this2._blockStartPos(bi);\n        if (blockChunk instanceof ChunksTailDetails) blockChunk.blockIndex = bi;\n        chunkTail.extend(blockChunk);\n      });\n\n      return chunkTail;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (fromPos === toPos) return '';\n      var input = '';\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, fromPos, toPos) {\n        input += b.extractInput(fromPos, toPos, flags);\n      });\n\n      return input;\n    }\n  }, {\n    key: \"_findStopBefore\",\n    value: function _findStopBefore(blockIndex) {\n      var stopBefore;\n\n      for (var si = 0; si < this._stops.length; ++si) {\n        var stop = this._stops[si];\n        if (stop <= blockIndex) stopBefore = stop;else break;\n      }\n\n      return stopBefore;\n    }\n    /** Appends placeholder depending on laziness */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder(toBlockIndex) {\n      var _this3 = this;\n\n      var details = new ChangeDetails();\n      if (this.lazy && toBlockIndex == null) return details;\n\n      var startBlockIter = this._mapPosToBlock(this.value.length);\n\n      if (!startBlockIter) return details;\n      var startBlockIndex = startBlockIter.index;\n      var endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n\n      this._blocks.slice(startBlockIndex, endBlockIndex).forEach(function (b) {\n        if (!b.lazy || toBlockIndex != null) {\n          // $FlowFixMe `_blocks` may not be present\n          var args = b._blocks != null ? [b._blocks.length] : [];\n\n          var bDetails = b._appendPlaceholder.apply(b, args);\n\n          _this3._value += bDetails.inserted;\n          details.aggregate(bDetails);\n        }\n      });\n\n      return details;\n    }\n    /** Finds block in pos */\n\n  }, {\n    key: \"_mapPosToBlock\",\n    value: function _mapPosToBlock(pos) {\n      var accVal = '';\n\n      for (var bi = 0; bi < this._blocks.length; ++bi) {\n        var _block2 = this._blocks[bi];\n        var blockStartPos = accVal.length;\n        accVal += _block2.value;\n\n        if (pos <= accVal.length) {\n          return {\n            index: bi,\n            offset: pos - blockStartPos\n          };\n        }\n      }\n    }\n    /** */\n\n  }, {\n    key: \"_blockStartPos\",\n    value: function _blockStartPos(blockIndex) {\n      return this._blocks.slice(0, blockIndex).reduce(function (pos, b) {\n        return pos += b.value.length;\n      }, 0);\n    }\n    /** */\n\n  }, {\n    key: \"_forEachBlocksInRange\",\n    value: function _forEachBlocksInRange(fromPos) {\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var fn = arguments.length > 2 ? arguments[2] : undefined;\n\n      var fromBlockIter = this._mapPosToBlock(fromPos);\n\n      if (fromBlockIter) {\n        var toBlockIter = this._mapPosToBlock(toPos); // process first block\n\n\n        var isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n        var fromBlockStartPos = fromBlockIter.offset;\n        var fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].value.length;\n        fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n\n        if (toBlockIter && !isSameBlock) {\n          // process intermediate blocks\n          for (var bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n            fn(this._blocks[bi], bi, 0, this._blocks[bi].value.length);\n          } // process last block\n\n\n          fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n        }\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var removeDetails = _get(_getPrototypeOf(MaskedPattern.prototype), \"remove\", this).call(this, fromPos, toPos);\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, bFromPos, bToPos) {\n        removeDetails.aggregate(b.remove(bFromPos, bToPos));\n      });\n\n      return removeDetails;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      // TODO refactor - extract alignblock\n      var beginBlockData = this._mapPosToBlock(cursorPos) || {\n        index: 0,\n        offset: 0\n      };\n      var beginBlockOffset = beginBlockData.offset,\n          beginBlockIndex = beginBlockData.index;\n      var beginBlock = this._blocks[beginBlockIndex];\n      if (!beginBlock) return cursorPos;\n      var beginBlockCursorPos = beginBlockOffset; // if position inside block - try to adjust it\n\n      if (beginBlockCursorPos !== 0 && beginBlockCursorPos < beginBlock.value.length) {\n        beginBlockCursorPos = beginBlock.nearestInputPos(beginBlockOffset, forceDirection(direction));\n      }\n\n      var cursorAtRight = beginBlockCursorPos === beginBlock.value.length;\n      var cursorAtLeft = beginBlockCursorPos === 0; //  cursor is INSIDE first block (not at bounds)\n\n      if (!cursorAtLeft && !cursorAtRight) return this._blockStartPos(beginBlockIndex) + beginBlockCursorPos;\n      var searchBlockIndex = cursorAtRight ? beginBlockIndex + 1 : beginBlockIndex;\n\n      if (direction === DIRECTION.NONE) {\n        // NONE direction used to calculate start input position if no chars were removed\n        // FOR NONE:\n        // -\n        // input|any\n        // ->\n        //  any|input\n        // <-\n        //  filled-input|any\n        // check if first block at left is input\n        if (searchBlockIndex > 0) {\n          var blockIndexAtLeft = searchBlockIndex - 1;\n          var blockAtLeft = this._blocks[blockIndexAtLeft];\n          var blockInputPos = blockAtLeft.nearestInputPos(0, DIRECTION.NONE); // is input\n\n          if (!blockAtLeft.value.length || blockInputPos !== blockAtLeft.value.length) {\n            return this._blockStartPos(searchBlockIndex);\n          }\n        } // ->\n\n\n        var firstInputAtRight = searchBlockIndex;\n\n        for (var bi = firstInputAtRight; bi < this._blocks.length; ++bi) {\n          var blockAtRight = this._blocks[bi];\n\n          var _blockInputPos = blockAtRight.nearestInputPos(0, DIRECTION.NONE);\n\n          if (!blockAtRight.value.length || _blockInputPos !== blockAtRight.value.length) {\n            return this._blockStartPos(bi) + _blockInputPos;\n          }\n        } // <-\n        // find first non-fixed symbol\n\n\n        for (var _bi = searchBlockIndex - 1; _bi >= 0; --_bi) {\n          var _block3 = this._blocks[_bi];\n\n          var _blockInputPos2 = _block3.nearestInputPos(0, DIRECTION.NONE); // is input\n\n\n          if (!_block3.value.length || _blockInputPos2 !== _block3.value.length) {\n            return this._blockStartPos(_bi) + _block3.value.length;\n          }\n        }\n\n        return cursorPos;\n      }\n\n      if (direction === DIRECTION.LEFT || direction === DIRECTION.FORCE_LEFT) {\n        // -\n        //  any|filled-input\n        // <-\n        //  any|first not empty is not-len-aligned\n        //  not-0-aligned|any\n        // ->\n        //  any|not-len-aligned or end\n        // check if first block at right is filled input\n        var firstFilledBlockIndexAtRight;\n\n        for (var _bi2 = searchBlockIndex; _bi2 < this._blocks.length; ++_bi2) {\n          if (this._blocks[_bi2].value) {\n            firstFilledBlockIndexAtRight = _bi2;\n            break;\n          }\n        }\n\n        if (firstFilledBlockIndexAtRight != null) {\n          var filledBlock = this._blocks[firstFilledBlockIndexAtRight];\n\n          var _blockInputPos3 = filledBlock.nearestInputPos(0, DIRECTION.RIGHT);\n\n          if (_blockInputPos3 === 0 && filledBlock.unmaskedValue.length) {\n            // filled block is input\n            return this._blockStartPos(firstFilledBlockIndexAtRight) + _blockInputPos3;\n          }\n        } // <-\n        // find this vars\n\n\n        var firstFilledInputBlockIndex = -1;\n        var firstEmptyInputBlockIndex; // TODO consider nested empty inputs\n\n        for (var _bi3 = searchBlockIndex - 1; _bi3 >= 0; --_bi3) {\n          var _block4 = this._blocks[_bi3];\n\n          var _blockInputPos4 = _block4.nearestInputPos(_block4.value.length, DIRECTION.FORCE_LEFT);\n\n          if (!_block4.value || _blockInputPos4 !== 0) firstEmptyInputBlockIndex = _bi3;\n\n          if (_blockInputPos4 !== 0) {\n            if (_blockInputPos4 !== _block4.value.length) {\n              // aligned inside block - return immediately\n              return this._blockStartPos(_bi3) + _blockInputPos4;\n            } else {\n              // found filled\n              firstFilledInputBlockIndex = _bi3;\n              break;\n            }\n          }\n        }\n\n        if (direction === DIRECTION.LEFT) {\n          // try find first empty input before start searching position only when not forced\n          for (var _bi4 = firstFilledInputBlockIndex + 1; _bi4 <= Math.min(searchBlockIndex, this._blocks.length - 1); ++_bi4) {\n            var _block5 = this._blocks[_bi4];\n\n            var _blockInputPos5 = _block5.nearestInputPos(0, DIRECTION.NONE);\n\n            var blockAlignedPos = this._blockStartPos(_bi4) + _blockInputPos5;\n\n            if (blockAlignedPos > cursorPos) break; // if block is not lazy input\n\n            if (_blockInputPos5 !== _block5.value.length) return blockAlignedPos;\n          }\n        } // process overflow\n\n\n        if (firstFilledInputBlockIndex >= 0) {\n          return this._blockStartPos(firstFilledInputBlockIndex) + this._blocks[firstFilledInputBlockIndex].value.length;\n        } // for lazy if has aligned left inside fixed and has came to the start - use start position\n\n\n        if (direction === DIRECTION.FORCE_LEFT || this.lazy && !this.extractInput() && !isInput(this._blocks[searchBlockIndex])) {\n          return 0;\n        }\n\n        if (firstEmptyInputBlockIndex != null) {\n          return this._blockStartPos(firstEmptyInputBlockIndex);\n        } // find first input\n\n\n        for (var _bi5 = searchBlockIndex; _bi5 < this._blocks.length; ++_bi5) {\n          var _block6 = this._blocks[_bi5];\n\n          var _blockInputPos6 = _block6.nearestInputPos(0, DIRECTION.NONE); // is input\n\n\n          if (!_block6.value.length || _blockInputPos6 !== _block6.value.length) {\n            return this._blockStartPos(_bi5) + _blockInputPos6;\n          }\n        }\n\n        return 0;\n      }\n\n      if (direction === DIRECTION.RIGHT || direction === DIRECTION.FORCE_RIGHT) {\n        // ->\n        //  any|not-len-aligned and filled\n        //  any|not-len-aligned\n        // <-\n        //  not-0-aligned or start|any\n        var firstInputBlockAlignedIndex;\n        var firstInputBlockAlignedPos;\n\n        for (var _bi6 = searchBlockIndex; _bi6 < this._blocks.length; ++_bi6) {\n          var _block7 = this._blocks[_bi6];\n\n          var _blockInputPos7 = _block7.nearestInputPos(0, DIRECTION.NONE);\n\n          if (_blockInputPos7 !== _block7.value.length) {\n            firstInputBlockAlignedPos = this._blockStartPos(_bi6) + _blockInputPos7;\n            firstInputBlockAlignedIndex = _bi6;\n            break;\n          }\n        }\n\n        if (firstInputBlockAlignedIndex != null && firstInputBlockAlignedPos != null) {\n          for (var _bi7 = firstInputBlockAlignedIndex; _bi7 < this._blocks.length; ++_bi7) {\n            var _block8 = this._blocks[_bi7];\n\n            var _blockInputPos8 = _block8.nearestInputPos(0, DIRECTION.FORCE_RIGHT);\n\n            if (_blockInputPos8 !== _block8.value.length) {\n              return this._blockStartPos(_bi7) + _blockInputPos8;\n            }\n          }\n\n          return direction === DIRECTION.FORCE_RIGHT ? this.value.length : firstInputBlockAlignedPos;\n        }\n\n        for (var _bi8 = Math.min(searchBlockIndex, this._blocks.length - 1); _bi8 >= 0; --_bi8) {\n          var _block9 = this._blocks[_bi8];\n\n          var _blockInputPos9 = _block9.nearestInputPos(_block9.value.length, DIRECTION.LEFT);\n\n          if (_blockInputPos9 !== 0) {\n            var alignedPos = this._blockStartPos(_bi8) + _blockInputPos9;\n\n            if (alignedPos >= cursorPos) return alignedPos;\n            break;\n          }\n        }\n      }\n\n      return cursorPos;\n    }\n    /** Get block by name */\n\n  }, {\n    key: \"maskedBlock\",\n    value: function maskedBlock(name) {\n      return this.maskedBlocks(name)[0];\n    }\n    /** Get all blocks by name */\n\n  }, {\n    key: \"maskedBlocks\",\n    value: function maskedBlocks(name) {\n      var _this4 = this;\n\n      var indices = this._maskedBlocks[name];\n      if (!indices) return [];\n      return indices.map(function (gi) {\n        return _this4._blocks[gi];\n      });\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return Object.assign({}, _get(_getPrototypeOf(MaskedPattern.prototype), \"state\", this), {\n        _blocks: this._blocks.map(function (b) {\n          return b.state;\n        })\n      });\n    },\n    set: function set(state) {\n      var _blocks = state._blocks,\n          maskedState = _objectWithoutProperties(state, [\"_blocks\"]);\n\n      this._blocks.forEach(function (b, bi) {\n        return b.state = _blocks[bi];\n      });\n\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"state\", maskedState, this, true);\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return this._blocks.every(function (b) {\n        return b.isComplete;\n      });\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._blocks.reduce(function (str, b) {\n        return str += b.unmaskedValue;\n      }, '');\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"unmaskedValue\", unmaskedValue, this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      // TODO return _value when not in change?\n      return this._blocks.reduce(function (str, b) {\n        return str += b.value;\n      }, '');\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"value\", value, this, true);\n    }\n  }]);\n\n  return MaskedPattern;\n}(Masked);\nMaskedPattern.DEFAULTS = {\n  lazy: true,\n  placeholderChar: '_'\n};\nMaskedPattern.STOP_CHAR = '`';\nMaskedPattern.ESCAPE_CHAR = '\\\\';\nMaskedPattern.InputDefinition = PatternInputDefinition;\nMaskedPattern.FixedDefinition = PatternFixedDefinition;\n\nfunction isInput(block) {\n  if (!block) return false;\n  var value = block.value;\n  return !value || block.nearestInputPos(0, DIRECTION.NONE) !== value.length;\n}\n\nIMask.MaskedPattern = MaskedPattern;\n\n/** Pattern which accepts ranges */\n\nvar MaskedRange =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedRange, _MaskedPattern);\n\n  function MaskedRange() {\n    _classCallCheck(this, MaskedRange);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedRange).apply(this, arguments));\n  }\n\n  _createClass(MaskedRange, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n    */\n    value: function _update(opts) {\n      // TODO type\n      opts = Object.assign({\n        to: this.to || 0,\n        from: this.from || 0\n      }, opts);\n      var maxLength = String(opts.to).length;\n      if (opts.maxLength != null) maxLength = Math.max(maxLength, opts.maxLength);\n      opts.maxLength = maxLength;\n      var fromStr = String(opts.from).padStart(maxLength, '0');\n      var toStr = String(opts.to).padStart(maxLength, '0');\n      var sameCharsCount = 0;\n\n      while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) {\n        ++sameCharsCount;\n      }\n\n      opts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(maxLength - sameCharsCount);\n\n      _get(_getPrototypeOf(MaskedRange.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"boundaries\",\n    value: function boundaries(str) {\n      var minstr = '';\n      var maxstr = '';\n\n      var _ref = str.match(/^(\\D*)(\\d*)(\\D*)/) || [],\n          _ref2 = _slicedToArray(_ref, 3),\n          placeholder = _ref2[1],\n          num = _ref2[2];\n\n      if (num) {\n        minstr = '0'.repeat(placeholder.length) + num;\n        maxstr = '9'.repeat(placeholder.length) + num;\n      }\n\n      minstr = minstr.padEnd(this.maxLength, '0');\n      maxstr = maxstr.padEnd(this.maxLength, '9');\n      return [minstr, maxstr];\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      str = _get(_getPrototypeOf(MaskedRange.prototype), \"doPrepare\", this).call(this, str, flags).replace(/\\D/g, '');\n      if (!this.autofix) return str;\n      var fromStr = String(this.from).padStart(this.maxLength, '0');\n      var toStr = String(this.to).padStart(this.maxLength, '0');\n      var val = this.value;\n      var prepStr = '';\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        var nextVal = val + prepStr + str[ci];\n\n        var _this$boundaries = this.boundaries(nextVal),\n            _this$boundaries2 = _slicedToArray(_this$boundaries, 2),\n            minstr = _this$boundaries2[0],\n            maxstr = _this$boundaries2[1];\n\n        if (Number(maxstr) < this.from) prepStr += fromStr[nextVal.length - 1];else if (Number(minstr) > this.to) prepStr += toStr[nextVal.length - 1];else prepStr += str[ci];\n      }\n\n      return prepStr;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var str = this.value;\n      var firstNonZero = str.search(/[^0]/);\n      if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n\n      var _this$boundaries3 = this.boundaries(str),\n          _this$boundaries4 = _slicedToArray(_this$boundaries3, 2),\n          minstr = _this$boundaries4[0],\n          maxstr = _this$boundaries4[1];\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.from <= Number(maxstr) && Number(minstr) <= this.to && (_get2 = _get(_getPrototypeOf(MaskedRange.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }, {\n    key: \"_matchFrom\",\n\n    /**\r\n      Optionally sets max length of pattern.\r\n      Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\r\n    */\n\n    /** Min bound */\n\n    /** Max bound */\n\n    /** */\n    get: function get() {\n      return this.maxLength - String(this.from).length;\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return _get(_getPrototypeOf(MaskedRange.prototype), \"isComplete\", this) && Boolean(this.value);\n    }\n  }]);\n\n  return MaskedRange;\n}(MaskedPattern);\nIMask.MaskedRange = MaskedRange;\n\n/** Date mask */\n\nvar MaskedDate =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedDate, _MaskedPattern);\n\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /**\r\n    @param {Object} opts\r\n  */\n  function MaskedDate(opts) {\n    _classCallCheck(this, MaskedDate);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedDate).call(this, Object.assign({}, MaskedDate.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedDate, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      if (opts.mask === Date) delete opts.mask;\n      if (opts.pattern) opts.mask = opts.pattern;\n      var blocks = opts.blocks;\n      opts.blocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS()); // adjust year block\n\n      if (opts.min) opts.blocks.Y.from = opts.min.getFullYear();\n      if (opts.max) opts.blocks.Y.to = opts.max.getFullYear();\n\n      if (opts.min && opts.max && opts.blocks.Y.from === opts.blocks.Y.to) {\n        opts.blocks.m.from = opts.min.getMonth() + 1;\n        opts.blocks.m.to = opts.max.getMonth() + 1;\n\n        if (opts.blocks.m.from === opts.blocks.m.to) {\n          opts.blocks.d.from = opts.min.getDate();\n          opts.blocks.d.to = opts.max.getDate();\n        }\n      }\n\n      Object.assign(opts.blocks, blocks); // add autofix\n\n      Object.keys(opts.blocks).forEach(function (bk) {\n        var b = opts.blocks[bk];\n        if (!('autofix' in b)) b.autofix = opts.autofix;\n      });\n\n      _get(_getPrototypeOf(MaskedDate.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var date = this.date;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedDate.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args)) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n    }\n    /** Checks if date is exists */\n\n  }, {\n    key: \"isDateExist\",\n    value: function isDateExist(str) {\n      return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n    }\n    /** Parsed Date */\n\n  }, {\n    key: \"date\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(date) {\n      this.typedValue = date;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.isComplete ? _get(_getPrototypeOf(MaskedDate.prototype), \"typedValue\", this) : null;\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedDate.prototype), \"typedValue\", value, this, true);\n    }\n  }]);\n\n  return MaskedDate;\n}(MaskedPattern);\nMaskedDate.DEFAULTS = {\n  pattern: 'd{.}`m{.}`Y',\n  format: function format(date) {\n    var day = String(date.getDate()).padStart(2, '0');\n    var month = String(date.getMonth() + 1).padStart(2, '0');\n    var year = date.getFullYear();\n    return [day, month, year].join('.');\n  },\n  parse: function parse(str) {\n    var _str$split = str.split('.'),\n        _str$split2 = _slicedToArray(_str$split, 3),\n        day = _str$split2[0],\n        month = _str$split2[1],\n        year = _str$split2[2];\n\n    return new Date(year, month - 1, day);\n  }\n};\n\nMaskedDate.GET_DEFAULT_BLOCKS = function () {\n  return {\n    d: {\n      mask: MaskedRange,\n      from: 1,\n      to: 31,\n      maxLength: 2\n    },\n    m: {\n      mask: MaskedRange,\n      from: 1,\n      to: 12,\n      maxLength: 2\n    },\n    Y: {\n      mask: MaskedRange,\n      from: 1900,\n      to: 9999\n    }\n  };\n};\n\nIMask.MaskedDate = MaskedDate;\n\n/**\r\n  Generic element API to use with mask\r\n  @interface\r\n*/\nvar MaskElement =\n/*#__PURE__*/\nfunction () {\n  function MaskElement() {\n    _classCallCheck(this, MaskElement);\n  }\n\n  _createClass(MaskElement, [{\n    key: \"select\",\n\n    /** Safely sets element selection */\n    value: function select(start, end) {\n      if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n\n      try {\n        this._unsafeSelect(start, end);\n      } catch (e) {}\n    }\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"_unsafeSelect\",\n    value: function _unsafeSelect(start, end) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"bindEvents\",\n\n    /** Should be overriden in subclasses */\n    value: function bindEvents(handlers) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {}\n  }, {\n    key: \"selectionStart\",\n\n    /** */\n\n    /** */\n\n    /** */\n\n    /** Safely returns selection start */\n    get: function get() {\n      var start;\n\n      try {\n        start = this._unsafeSelectionStart;\n      } catch (e) {}\n\n      return start != null ? start : this.value.length;\n    }\n    /** Safely returns selection end */\n\n  }, {\n    key: \"selectionEnd\",\n    get: function get() {\n      var end;\n\n      try {\n        end = this._unsafeSelectionEnd;\n      } catch (e) {}\n\n      return end != null ? end : this.value.length;\n    }\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return MaskElement;\n}();\nIMask.MaskElement = MaskElement;\n\n/** Bridge between HTMLElement and {@link Masked} */\n\nvar HTMLMaskElement =\n/*#__PURE__*/\nfunction (_MaskElement) {\n  _inherits(HTMLMaskElement, _MaskElement);\n\n  /** Mapping between HTMLElement events and mask internal events */\n\n  /** HTMLElement to use mask on */\n\n  /**\r\n    @param {HTMLInputElement|HTMLTextAreaElement} input\r\n  */\n  function HTMLMaskElement(input) {\n    var _this;\n\n    _classCallCheck(this, HTMLMaskElement);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HTMLMaskElement).call(this));\n    _this.input = input;\n    _this._handlers = {};\n    return _this;\n  }\n  /** */\n  // $FlowFixMe https://github.com/facebook/flow/issues/2839\n\n\n  _createClass(HTMLMaskElement, [{\n    key: \"_unsafeSelect\",\n\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\n    value: function _unsafeSelect(start, end) {\n      this.input.setSelectionRange(start, end);\n    }\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\n\n  }, {\n    key: \"bindEvents\",\n\n    /**\r\n      Binds HTMLElement events to mask internal events\r\n      @override\r\n    */\n    value: function bindEvents(handlers) {\n      var _this2 = this;\n\n      Object.keys(handlers).forEach(function (event) {\n        return _this2._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]);\n      });\n    }\n    /**\r\n      Unbinds HTMLElement events to mask internal events\r\n      @override\r\n    */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var _this3 = this;\n\n      Object.keys(this._handlers).forEach(function (event) {\n        return _this3._toggleEventHandler(event);\n      });\n    }\n    /** */\n\n  }, {\n    key: \"_toggleEventHandler\",\n    value: function _toggleEventHandler(event, handler) {\n      if (this._handlers[event]) {\n        this.input.removeEventListener(event, this._handlers[event]);\n        delete this._handlers[event];\n      }\n\n      if (handler) {\n        this.input.addEventListener(event, handler);\n        this._handlers[event] = handler;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.input.getRootNode ? this.input.getRootNode() : document;\n    }\n    /**\r\n      Is element in focus\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      //$FlowFixMe\n      return this.input === this.rootElement.activeElement;\n    }\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionStart\",\n    get: function get() {\n      return this.input.selectionStart;\n    }\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      return this.input.selectionEnd;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.input.value;\n    },\n    set: function set(value) {\n      this.input.value = value;\n    }\n  }]);\n\n  return HTMLMaskElement;\n}(MaskElement);\nHTMLMaskElement.EVENTS_MAP = {\n  selectionChange: 'keydown',\n  input: 'input',\n  drop: 'drop',\n  click: 'click',\n  focus: 'focus',\n  commit: 'blur'\n};\nIMask.HTMLMaskElement = HTMLMaskElement;\n\nvar HTMLContenteditableMaskElement =\n/*#__PURE__*/\nfunction (_HTMLMaskElement) {\n  _inherits(HTMLContenteditableMaskElement, _HTMLMaskElement);\n\n  function HTMLContenteditableMaskElement() {\n    _classCallCheck(this, HTMLContenteditableMaskElement);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(HTMLContenteditableMaskElement).apply(this, arguments));\n  }\n\n  _createClass(HTMLContenteditableMaskElement, [{\n    key: \"_unsafeSelect\",\n\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\n    value: function _unsafeSelect(start, end) {\n      if (!this.rootElement.createRange) return;\n      var range = this.rootElement.createRange();\n      range.setStart(this.input.firstChild || this.input, start);\n      range.setEnd(this.input.lastChild || this.input, end);\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    }\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionStart\",\n\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      return selection && selection.anchorOffset;\n    }\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      return selection && this._unsafeSelectionStart + String(selection).length;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      // $FlowFixMe\n      return this.input.textContent;\n    },\n    set: function set(value) {\n      this.input.textContent = value;\n    }\n  }]);\n\n  return HTMLContenteditableMaskElement;\n}(HTMLMaskElement);\nIMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\n/** Listens to element events and controls changes between element and {@link Masked} */\n\nvar InputMask =\n/*#__PURE__*/\nfunction () {\n  /**\r\n    View element\r\n    @readonly\r\n  */\n\n  /**\r\n    Internal {@link Masked} model\r\n    @readonly\r\n  */\n\n  /**\r\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\r\n    @param {Object} opts\r\n  */\n  function InputMask(el, opts) {\n    _classCallCheck(this, InputMask);\n\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n\n    this._bindEvents(); // refresh\n\n\n    this.updateValue();\n\n    this._onChange();\n  }\n  /** Read or update mask */\n\n\n  _createClass(InputMask, [{\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return mask == null || mask === this.masked.mask || mask === Date && this.masked instanceof MaskedDate;\n    }\n  }, {\n    key: \"_bindEvents\",\n\n    /**\r\n      Starts listening to element events\r\n      @protected\r\n    */\n    value: function _bindEvents() {\n      this.el.bindEvents({\n        selectionChange: this._saveSelection,\n        input: this._onInput,\n        drop: this._onDrop,\n        click: this._onClick,\n        focus: this._onFocus,\n        commit: this._onChange\n      });\n    }\n    /**\r\n      Stops listening to element events\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (this.el) this.el.unbindEvents();\n    }\n    /**\r\n      Fires custom event\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_fireEvent\",\n    value: function _fireEvent(ev) {\n      var listeners = this._listeners[ev];\n      if (!listeners) return;\n      listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\r\n      Current selection start\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"_saveSelection\",\n\n    /**\r\n      Stores current selection\r\n      @protected\r\n    */\n    value: function _saveSelection()\n    /* ev */\n    {\n      if (this.value !== this.el.value) {\n        console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n      }\n\n      this._selection = {\n        start: this.selectionStart,\n        end: this.cursorPos\n      };\n    }\n    /** Syncronizes model value from view */\n\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      this.masked.value = this.el.value;\n      this._value = this.masked.value;\n    }\n    /** Syncronizes view from model value, fires change events */\n\n  }, {\n    key: \"updateControl\",\n    value: function updateControl() {\n      var newUnmaskedValue = this.masked.unmaskedValue;\n      var newValue = this.masked.value;\n      var isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n      this._unmaskedValue = newUnmaskedValue;\n      this._value = newValue;\n      if (this.el.value !== newValue) this.el.value = newValue;\n      if (isChanged) this._fireChangeEvents();\n    }\n    /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      var mask = opts.mask,\n          restOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n      var updateMask = !this.maskEquals(mask);\n      var updateOpts = !objectIncludes(this.masked, restOpts);\n      if (updateMask) this.mask = mask;\n      if (updateOpts) this.masked.updateOptions(restOpts);\n      if (updateMask || updateOpts) this.updateControl();\n    }\n    /** Updates cursor */\n\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor(cursorPos) {\n      if (cursorPos == null) return;\n      this.cursorPos = cursorPos; // also queue change cursor for mobile browsers\n\n      this._delayUpdateCursor(cursorPos);\n    }\n    /**\r\n      Delays cursor update to support mobile browsers\r\n      @private\r\n    */\n\n  }, {\n    key: \"_delayUpdateCursor\",\n    value: function _delayUpdateCursor(cursorPos) {\n      var _this = this;\n\n      this._abortUpdateCursor();\n\n      this._changingCursorPos = cursorPos;\n      this._cursorChanging = setTimeout(function () {\n        if (!_this.el) return; // if was destroyed\n\n        _this.cursorPos = _this._changingCursorPos;\n\n        _this._abortUpdateCursor();\n      }, 10);\n    }\n    /**\r\n      Fires custom events\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_fireChangeEvents\",\n    value: function _fireChangeEvents() {\n      this._fireEvent('accept');\n\n      if (this.masked.isComplete) this._fireEvent('complete');\n    }\n    /**\r\n      Aborts delayed cursor update\r\n      @private\r\n    */\n\n  }, {\n    key: \"_abortUpdateCursor\",\n    value: function _abortUpdateCursor() {\n      if (this._cursorChanging) {\n        clearTimeout(this._cursorChanging);\n        delete this._cursorChanging;\n      }\n    }\n    /** Aligns cursor to nearest available position */\n\n  }, {\n    key: \"alignCursor\",\n    value: function alignCursor() {\n      this.cursorPos = this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT);\n    }\n    /** Aligns cursor only if selection is empty */\n\n  }, {\n    key: \"alignCursorFriendly\",\n    value: function alignCursorFriendly() {\n      if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n\n      this.alignCursor();\n    }\n    /** Adds listener on custom event */\n\n  }, {\n    key: \"on\",\n    value: function on(ev, handler) {\n      if (!this._listeners[ev]) this._listeners[ev] = [];\n\n      this._listeners[ev].push(handler);\n\n      return this;\n    }\n    /** Removes custom event listener */\n\n  }, {\n    key: \"off\",\n    value: function off(ev, handler) {\n      if (!this._listeners[ev]) return this;\n\n      if (!handler) {\n        delete this._listeners[ev];\n        return this;\n      }\n\n      var hIndex = this._listeners[ev].indexOf(handler);\n\n      if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n      return this;\n    }\n    /** Handles view input event */\n\n  }, {\n    key: \"_onInput\",\n    value: function _onInput() {\n      this._abortUpdateCursor(); // fix strange IE behavior\n\n\n      if (!this._selection) return this.updateValue();\n      var details = new ActionDetails( // new state\n      this.el.value, this.cursorPos, // old state\n      this.value, this._selection);\n      var oldRawValue = this.masked.rawInputValue;\n      var offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection).offset; // force align in remove direction only if no input chars were removed\n      // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n\n      var removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n      var cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n      this.updateControl();\n      this.updateCursor(cursorPos);\n    }\n    /** Handles view change event and commits model value */\n\n  }, {\n    key: \"_onChange\",\n    value: function _onChange() {\n      if (this.value !== this.el.value) {\n        this.updateValue();\n      }\n\n      this.masked.doCommit();\n      this.updateControl();\n\n      this._saveSelection();\n    }\n    /** Handles view drop event, prevents by default */\n\n  }, {\n    key: \"_onDrop\",\n    value: function _onDrop(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onClick\",\n    value: function _onClick(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Unbind view events and removes element reference */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents(); // $FlowFixMe why not do so?\n\n\n      this._listeners.length = 0; // $FlowFixMe\n\n      delete this.el;\n    }\n  }, {\n    key: \"mask\",\n    get: function get() {\n      return this.masked.mask;\n    },\n    set: function set(mask) {\n      if (this.maskEquals(mask)) return;\n\n      if (this.masked.constructor === maskedClass(mask)) {\n        this.masked.updateOptions({\n          mask: mask\n        });\n        return;\n      }\n\n      var masked = createMask({\n        mask: mask\n      });\n      masked.unmaskedValue = this.masked.unmaskedValue;\n      this.masked = masked;\n    }\n    /** Raw value */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(str) {\n      this.masked.value = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Unmasked value */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._unmaskedValue;\n    },\n    set: function set(str) {\n      this.masked.unmaskedValue = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Typed unmasked value */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.masked.typedValue;\n    },\n    set: function set(val) {\n      this.masked.typedValue = val;\n      this.updateControl();\n      this.alignCursor();\n    }\n  }, {\n    key: \"selectionStart\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n    }\n    /** Current cursor position */\n\n  }, {\n    key: \"cursorPos\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n    },\n    set: function set(pos) {\n      if (!this.el.isActive) return;\n      this.el.select(pos, pos);\n\n      this._saveSelection();\n    }\n  }]);\n\n  return InputMask;\n}();\nIMask.InputMask = InputMask;\n\n/** Pattern which validates enum values */\n\nvar MaskedEnum =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedEnum, _MaskedPattern);\n\n  function MaskedEnum() {\n    _classCallCheck(this, MaskedEnum);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedEnum).apply(this, arguments));\n  }\n\n  _createClass(MaskedEnum, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      // TODO type\n      if (opts.enum) opts.mask = '*'.repeat(opts.enum[0].length);\n\n      _get(_getPrototypeOf(MaskedEnum.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this = this,\n          _get2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.enum.some(function (e) {\n        return e.indexOf(_this.unmaskedValue) >= 0;\n      }) && (_get2 = _get(_getPrototypeOf(MaskedEnum.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }]);\n\n  return MaskedEnum;\n}(MaskedPattern);\nIMask.MaskedEnum = MaskedEnum;\n\n/** Masking by RegExp */\n\nvar MaskedRegExp =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedRegExp, _Masked);\n\n  function MaskedRegExp() {\n    _classCallCheck(this, MaskedRegExp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedRegExp).apply(this, arguments));\n  }\n\n  _createClass(MaskedRegExp, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      if (opts.mask) opts.validate = function (value) {\n        return value.search(opts.mask) >= 0;\n      };\n\n      _get(_getPrototypeOf(MaskedRegExp.prototype), \"_update\", this).call(this, opts);\n    }\n  }]);\n\n  return MaskedRegExp;\n}(Masked);\nIMask.MaskedRegExp = MaskedRegExp;\n\nvar DEGREE_CHAR = '';\nvar MINUTE_CHAR = '';\nvar SECOND_CHAR = '';\nvar SPACER_CHAR = ' ';\nvar PLACEHOLDER_CHAR = '_';\nvar DOT = '.';\nvar SEPARATOR = ':';\n\n// @ts-check\n\n/**\n * Latitude/Longitude as Degrees, Minutes, Seconds\n * Ref: https://regexr.com/3qgn3\n *\n * Range check for minutes and seconds (0-59)\n * Max latitude 90:00:00, Max longitude 180:00:00\n *\n * Matches:\n * 90:00:00N 180:00:00E | 34:59:33S 179:59:59W | 00:00:00N 000:00:00W\n * 34:59:33.123S 179:59:59.999W | 90:00:00.000N 180:00:00.000E\n * 45:06:42:N:034:56:46:E (normalized format)\n *\n * Non-matches:\n * 91:00:00N 181:00:00E | 34:59:33Z 179:59:59W | 00:00:00N 181:00:00W\n * 90:00:00.001N 180:00:00.001E\n *\n * Groups:\n * [1] 90:00:00.000\n * [2] N\n * [3] 180:00:00.000\n * [4] E\n */\nvar RE_DMS = /^((?:\\d|[0-8][0-9])(?::(?:[0-5]\\d|\\d))(?::(?:[0-5]\\d|\\d)(?:\\.\\d{1,3})?)|90(?::00)(?::00)(?:\\.0{1,3})?)(?:\\s|:)?([NS])(?:\\s|:)?((?:0?\\d\\d|0?0?\\d|1[0-7]\\d)(?::(?:[0-5]\\d|\\d))(?::(?:[0-5]\\d|\\d)(?:\\.\\d{1,3})?)|180(?::00)(?::00)(?:\\.0{1,3})?)(?:\\s|:)?([EW])$/;\n/**\n * Latitude/Longitude as Decimal Degrees\n * Ref: https://regexr.com/3ql84\n *\n * Latitude Matches:\n * 90 | -90 | 90.0 | 0 | 0.0 | 10.123456\n *\n * Longitude Matches:\n * 180 | -180 | 180.0 | 123.000000\n */\n\nvar DD_LAT = '-?(?:90(?:(?:\\\\.0{1,6})?)|(?:[0-9]|[1-8][0-9])(?:(?:\\\\.[0-9]{1,6})?))';\nvar DD_LON = '-?(?:180(?:(?:\\\\.0{1,6})?)|(?:[0-9]|[0-9][0-9]|1[0-7][0-9])(?:(?:\\\\.[0-9]{1,6})?))';\n\nvar RE_DD = new RegExp(\"^(\".concat(DD_LAT, \"),\\\\s?(\").concat(DD_LON, \"$)\"));\n\n// @ts-check\n/**\n * fill\n *\n * Fills an array with the provided value X number of times\n *\n * @param {any[]} arr Array to fill\n * @param {any} value Value to push to the array\n * @param {number} count Number of items to add\n * @returns {any[]} Array filled with values\n */\n\nfunction fill(arr, value, count) {\n  for (var i = 0; i < count; i++) {\n    arr.push(value);\n  }\n\n  return arr;\n}\n/**\n * normalizeInput\n *\n * Returns a normalized DMS input value\n *\n * @param {string} value Input value\n * @param {string} sep Value separator\n * @returns {string} Normalized value\n */\n\nfunction normalizeInput() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var sep = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : SEPARATOR;\n  return value.replace(/[^0-9.NSEW]/gi, sep).replace(/:{2,}/g, sep);\n}\n/**\n * convertInput\n *\n * Converts a DD string into a DMS string\n *\n * @param {string} value Input value\n * @param {number} precision DMS decimal places\n * @returns {string} Normalized DMS string\n */\n\nfunction convertInput() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var precision = arguments.length > 1 ? arguments[1] : undefined;\n  var sep = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : SEPARATOR;\n\n  if (validateDD(value)) {\n    var dd = value.split(',');\n    var lat = parseFloat(dd[0]);\n    var lon = parseFloat(dd[1]);\n    var latArr = decimalToDMS(lat, false, precision);\n    var lonArr = decimalToDMS(lon, true, precision);\n    value = serializeDMS(latArr, lonArr, sep);\n  }\n\n  return value;\n}\n/**\n * validateDD\n *\n * Returns true if the provided value is a valid DD string\n *\n * @param {string} value Input value\n * @returns {boolean} Is valid DD?\n */\n\nfunction validateDD(value) {\n  return RE_DD.test(value);\n}\n/**\n * Returns true if the provided value is a valid (normalized) DMS string\n *\n * @param {string} value Input value\n * @returns {boolean} Is valid DMS?\n */\n\nfunction validateDMS(value) {\n  return RE_DMS.test(value);\n}\n/**\n * parseDMS\n *\n * Parses a DMS string into an array of lat/lon arrays\n *\n * @param {string} value DMS value, e.g. '04:08:15:N:162:03:42:E'\n * @param {string} sep Separator\n * @returns {((string|number)[])[]} [[D, M, S, 'N|S'], [D, M, S, 'E|W']]\n */\n\nfunction parseDMS(value) {\n  var sep = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : SEPARATOR;\n  var match = value.match(RE_DMS).slice(1);\n  var lat = match[0].split(sep).map(function (n) {\n    return parseFloat(n);\n  });\n  var lon = match[2].split(sep).map(function (n) {\n    return parseFloat(n);\n  });\n  return [[lat[0], lat[1], lat[2], match[1]], [lon[0], lon[1], lon[2], match[3]]];\n}\n/**\n * serializeDMS\n *\n * Serializes DMS lat/lon arrays into a normalized DMS string\n *\n * @param {(string|number)[]} lat DMS latitude, e.g. [4, 8, 15, 'N']\n * @param {(string|number)[]} lon DMS longitude, e.g. [162, 3, 42, 'E']\n * @param {string} sep Separator\n * @returns {string}\n * @example `04:08:15:N:162:03:42:E`\n */\n\nfunction serializeDMS(lat, lon) {\n  var sep = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : SEPARATOR;\n  var res = [];\n  res[0] = lat.map(function (item) {\n    return item.toString().replace(/^(\\d)(\\.\\d+)?$/, '0$1$2');\n  }).join(sep);\n  res[1] = lon.map(function (item, i) {\n    return i === 0 ? item.toString().replace(/^(\\d)$/, '00$1').replace(/^(\\d\\d)$/, '0$1') : item.toString().replace(/^(\\d)(\\.\\d+)?$/, '0$1$2');\n  }).join(sep);\n  return res.join(sep);\n}\n/**\n * dmsToDecimal\n *\n * Converts Degrees Minutes Seconds to Decimal Degrees\n *\n * Formula:\n * DD = D + M / 60 + S / 3600\n *\n * @param {number} degrees\n * @param {number} minutes\n * @param {number} seconds\n * @param {string} direction Compass direction, e.g. N|S|E|W\n * @param {number} [precision]  Decimal places (default: 6)\n * @returns {number} Decimal degrees, e.g. 42.451\n */\n\nfunction dmsToDecimal(degrees, minutes, seconds, direction) {\n  var precision = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 6;\n  var factor = Math.pow(10, precision);\n  var dd = degrees + minutes / 60 + seconds / 3600; // Round the result to the given precision\n\n  dd = Math.round(dd * factor) / factor; // If direction is South or West then value is negative\n\n  return /S|W/.test(direction) ? dd * -1 : dd;\n}\n/**\n * decimalToDMS\n *\n * Converts Decimal Degress to Degrees Minutes Seconds\n *\n * @param {number} dd Decimal degree value\n * @param {boolean} isLon Is longitude?\n * @param {number} [precision] Decimal places for seconds (default: 0)\n * @returns {(string|number)[]} DMS values, e.g. [D, M, S, 'N|S|E|W']\n */\n\nfunction decimalToDMS(dd, isLon) {\n  var precision = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var factor = Math.pow(10, precision);\n  var direction = dd < 0 ? isLon ? 'W' : 'S' : isLon ? 'E' : 'N'; // Ensure degrees is a positive value\n\n  var absolute = Math.abs(dd);\n  var degrees = Math.floor(absolute);\n  var minutesFloat = (absolute - degrees) * 60;\n  var minutes = Math.floor(minutesFloat);\n  var seconds = (minutesFloat - minutes) * 60; // Round seconds to the given precision\n\n  seconds = Math.round(seconds * factor) / factor; // Ensure minutes & seconds are not 60\n\n  if (seconds === 60) {\n    minutes++;\n    seconds = 0;\n  }\n\n  if (minutes === 60) {\n    degrees++;\n    minutes = 0;\n  }\n\n  return [degrees, minutes, seconds, direction];\n}\n\n// @ts-check\n/**\n * If latitude degrees is 90 or longitude degrees is 180\n * then ensure minutes & seconds are not greater than 0.\n *\n * @param {boolean} isLon\n * @param {number} precision\n * @returns {function}\n */\n\nvar minSecValidate = function minSecValidate(isLon, precision) {\n  return function (value, _ref) {\n    var _blocks = _ref.parent._blocks;\n    var max = isLon ? 180 : 90; // If precision is provided it will change the array position for lon degrees\n\n    var pos = precision ? 13 : 11;\n    var parent = isLon ? _blocks[pos] : _blocks[0];\n    var degrees = Number(parent.value);\n    var seconds = Number(value); //console.log('validate', degrees, seconds, parent, _blocks)\n\n    return !(degrees === max && seconds > 0);\n  };\n};\n\nvar getDegreeMask = function getDegreeMask(isLon) {\n  return {\n    mask: MaskedRange,\n    from: 0,\n    to: isLon ? 180 : 90\n  };\n};\n\nvar getMinuteMask = function getMinuteMask(isLon, precision) {\n  return {\n    mask: MaskedRange,\n    from: 0,\n    to: 59,\n    validate: minSecValidate(isLon, precision)\n  };\n};\n\nvar getSecondMask = function getSecondMask(isLon, precision) {\n  return {\n    mask: MaskedRange,\n    from: 0,\n    to: 59,\n    validate: minSecValidate(isLon, precision)\n  };\n};\n\nvar getArcSecondMask = function getArcSecondMask(precision) {\n  return {\n    mask: MaskedRange,\n    from: 0,\n    to: Number(fill([], 9, precision).join(''))\n  };\n};\n\nvar getDirectionMask = function getDirectionMask(isLon) {\n  return {\n    mask: MaskedEnum,\n    \"enum\": isLon ? ['E', 'W'] : ['N', 'S'],\n    prepare: function prepare(str) {\n      return str.toUpperCase();\n    }\n  };\n};\n/**\n * createMask\n *\n * Returns an input mask using the provided symbols\n *\n * @param {Object} [options] Mask options\n * @property {string} [degreeChar] Degrees symbol, e.g. ``\n * @property {string} [minuteChar] Minutes symbol, e.g. ``\n * @property {string} [secondChar] Seconds symbol, e.g. ``\n * @property {string} [spacerChar] Spacer character, e.g. ` `\n * @property {string} [placeholderChar] Placeholder character, e.g. `_`\n * @property {number} [dmsPrecision] Second decimal places [0-6]\n */\n\n\nvar createMask$1 = function createMask() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$degreeChar = _ref2.degreeChar,\n      degreeChar = _ref2$degreeChar === void 0 ? DEGREE_CHAR : _ref2$degreeChar,\n      _ref2$minuteChar = _ref2.minuteChar,\n      minuteChar = _ref2$minuteChar === void 0 ? MINUTE_CHAR : _ref2$minuteChar,\n      _ref2$secondChar = _ref2.secondChar,\n      secondChar = _ref2$secondChar === void 0 ? SECOND_CHAR : _ref2$secondChar,\n      _ref2$spacerChar = _ref2.spacerChar,\n      spacerChar = _ref2$spacerChar === void 0 ? SPACER_CHAR : _ref2$spacerChar,\n      _ref2$placeholderChar = _ref2.placeholderChar,\n      placeholderChar = _ref2$placeholderChar === void 0 ? PLACEHOLDER_CHAR : _ref2$placeholderChar,\n      _ref2$dmsPrecision = _ref2.dmsPrecision,\n      dmsPrecision = _ref2$dmsPrecision === void 0 ? 0 : _ref2$dmsPrecision;\n\n  var precision = dmsPrecision < 0 ? 0 : dmsPrecision > 6 ? 6 : dmsPrecision;\n  var mask = ['YD', 'DC', 'SPACER', 'YM', 'MC', 'SPACER', 'YS', 'SC', 'SPACER', 'NS', 'SPACER', 'XD', 'DC', 'SPACER', 'XM', 'MC', 'SPACER', 'XS', 'SC', 'SPACER', 'EW'];\n\n  if (precision > 0) {\n    mask.splice(7, 0, 'DOT');\n    mask.splice(8, 0, 'AS');\n    mask.splice(20, 0, 'DOT');\n    mask.splice(21, 0, 'AS');\n  } // @ts-ignore\n\n\n  return new MaskedPattern({\n    mask: mask.join(''),\n    placeholderChar: placeholderChar,\n    autofix: true,\n    overwrite: true,\n    // If placeholderChar is defined then set lazy to false,\n    // which will display the placeholder character.\n    lazy: placeholderChar === null,\n    blocks: {\n      DC: {\n        mask: degreeChar\n      },\n      MC: {\n        mask: minuteChar\n      },\n      SC: {\n        mask: secondChar\n      },\n      SPACER: {\n        mask: spacerChar\n      },\n      DOT: {\n        mask: DOT\n      },\n      AS: getArcSecondMask(precision),\n      YD: getDegreeMask(),\n      YM: getMinuteMask(),\n      YS: getSecondMask(),\n      NS: getDirectionMask(),\n      XD: getDegreeMask(true),\n      XM: getMinuteMask(true, precision),\n      XS: getSecondMask(true, precision),\n      EW: getDirectionMask(true)\n    }\n  });\n};\n\n/**\n * useCoordMask Hook\n *\n * @param {Object} options\n * @property {string} [degreeChar] Degrees symbol, e.g. ``\n * @property {string} [minuteChar] Minutes symbol, e.g. ``\n * @property {string} [secondChar] Seconds symbol, e.g. ``\n * @property {string} [spacerChar] Spacer character, e.g. ` `\n * @property {string} [placeholderChar] Placeholder character, e.g. `_`\n * @property {number} [dmsPrecision] Decimal places [0-6]\n * @property {string} value Input value\n * @returns {Object}\n */\n\nvar useCoordMask = function useCoordMask(_ref) {\n  var inputRef = _ref.inputRef,\n      controlledValue = _ref.controlledValue,\n      degreeChar = _ref.degreeChar,\n      minuteChar = _ref.minuteChar,\n      secondChar = _ref.secondChar,\n      spacerChar = _ref.spacerChar,\n      placeholderChar = _ref.placeholderChar,\n      ddPrecision = _ref.ddPrecision,\n      dmsPrecision = _ref.dmsPrecision,\n      onChange = _ref.onChange;\n  var maskRef = useRef(null);\n  var mask = useMemo(function () {\n    return createMask$1({\n      degreeChar: degreeChar,\n      minuteChar: minuteChar,\n      secondChar: secondChar,\n      spacerChar: spacerChar,\n      placeholderChar: placeholderChar,\n      dmsPrecision: dmsPrecision\n    });\n  }, [degreeChar, minuteChar, secondChar, spacerChar, placeholderChar, dmsPrecision]);\n  var handleChange = useCallback(function (value, unmaskedValue) {\n    if (unmaskedValue.length) {\n      var normalized = normalizeInput(value);\n      var isValid = validateDMS(normalized); //console.log('handleChange', { value, unmaskedValue, isValid })\n\n      if (isValid) {\n        var dms = parseDMS(normalized); // @ts-ignore {https://github.com/Microsoft/TypeScript/pull/24897}\n\n        var lat = dmsToDecimal.apply(void 0, _toConsumableArray(dms[0]).concat([ddPrecision])); // @ts-ignore\n\n        var lon = dmsToDecimal.apply(void 0, _toConsumableArray(dms[1]).concat([ddPrecision])); // Callback with the original event and the converted values\n\n        onChange(value, {\n          unmaskedValue: unmaskedValue,\n          dd: [lat, lon],\n          dms: dms\n        });\n      }\n    } else {\n      onChange('', {\n        unmaskedValue: '',\n        dd: [],\n        dms: []\n      });\n    }\n  }, [ddPrecision, onChange]);\n  var initMask = useCallback(function (element, mask) {\n    if (maskRef.current) maskRef.current.destroy();\n    maskRef.current = new IMask(element, mask); //console.log('initMask', maskRef.current)\n\n    maskRef.current.on('accept', function () {//console.log('accept')\n    });\n    maskRef.current.on('complete', function () {\n      var _maskRef$current = maskRef.current,\n          unmaskedValue = _maskRef$current.unmaskedValue,\n          value = _maskRef$current.value;\n      handleChange(value, unmaskedValue);\n    });\n  }, [handleChange]);\n  useEffect(function () {\n    if (inputRef.current && inputRef.current.value !== controlledValue) {\n      var dmsValue = convertInput(controlledValue, dmsPrecision, '');\n      var maskedValue = mask.resolve(dmsValue); //console.log({ controlledValue, dmsValue, maskedValue, mask })\n\n      if (controlledValue !== maskedValue) {\n        inputRef.current.value = maskedValue;\n        initMask(inputRef.current, mask);\n        handleChange(maskedValue, mask.unmaskedValue);\n      }\n    }\n  }, [controlledValue, dmsPrecision, handleChange, initMask, inputRef, mask]);\n  useEffect(function () {\n    if (!maskRef.current) {\n      initMask(inputRef.current, mask);\n    }\n  }, [controlledValue, initMask, inputRef, mask]);\n};\n\n/**\n * CoordinateInput\n */\n\nvar CoordinateInput = function CoordinateInput(_ref) {\n  var className = _ref.className,\n      degreeChar = _ref.degreeChar,\n      minuteChar = _ref.minuteChar,\n      secondChar = _ref.secondChar,\n      spacerChar = _ref.spacerChar,\n      placeholderChar = _ref.placeholderChar,\n      ddPrecision = _ref.ddPrecision,\n      dmsPrecision = _ref.dmsPrecision,\n      inputProps = _ref.inputProps,\n      inputRef = _ref.inputRef,\n      name = _ref.name,\n      _ref$placeholder = _ref.placeholder,\n      placeholder = _ref$placeholder === void 0 ? '04 08 15 N 162 03 42 E' : _ref$placeholder,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      controlledValue = _ref.value;\n  var innerRef = useRef(null);\n  useCoordMask({\n    inputRef: innerRef,\n    controlledValue: controlledValue,\n    degreeChar: degreeChar,\n    minuteChar: minuteChar,\n    secondChar: secondChar,\n    spacerChar: spacerChar,\n    placeholderChar: placeholderChar,\n    ddPrecision: ddPrecision,\n    dmsPrecision: dmsPrecision,\n    onChange: onChange\n  });\n  /*const handleBlur = useCallback(\n    (e) => {\n      if (mask.isComplete) handleChange(mask.unmaskedValue, mask)\n      if (typeof onBlur === 'function') onBlur(e)\n    },\n    [mask, onBlur]\n  )*/\n\n  useEffect(function () {\n    if (typeof inputRef === 'function') {\n      inputRef(innerRef.current);\n    }\n  }, [innerRef, inputRef]);\n  return /*#__PURE__*/React.createElement(\"input\", _extends({}, inputProps, {\n    \"aria-label\": name,\n    dir: \"auto\",\n    className: className,\n    name: name,\n    placeholder: placeholder,\n    ref: innerRef,\n    type: \"text\"\n  }));\n};\n\nCoordinateInput.propTypes = {\n  className: PropTypes.string,\n  degreeChar: PropTypes.string,\n  ddPrecision: PropTypes.number,\n  dmsPrecision: PropTypes.number,\n  minuteChar: PropTypes.string,\n  name: PropTypes.string,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  placeholderChar: PropTypes.string,\n  inputProps: PropTypes.object,\n  inputRef: PropTypes.func,\n  secondChar: PropTypes.string,\n  spacerChar: PropTypes.string,\n  value: PropTypes.string\n};\n\nexport default CoordinateInput;\nexport { decimalToDMS, dmsToDecimal };\n","import React from 'react'\n\nconst repoName = 'nerdstep/react-coordinate-input'\nconst repoUrl = `https://github.com/${repoName}`\nconst tagImg = `https://flat.badgen.net/github/tag/${repoName}`\nconst forksImg = `https://flat.badgen.net/github/forks/${repoName}`\nconst starsImg = `https://flat.badgen.net/github/stars/${repoName}`\n\nconst Footer = () => (\n  <nav\n    className=\"breadcrumb has-bullet-separator is-centered\"\n    aria-label=\"breadcrumbs\"\n  >\n    <ul>\n      <li style={{ height: 24 }}>\n        <a href={repoUrl}>\n          <img src={tagImg} alt=\"GitHub latest tag\" />\n        </a>\n      </li>\n      <li>\n        <a href={repoUrl}>\n          <img src={forksImg} alt=\"GitHub forks\" />\n        </a>\n      </li>\n      <li>\n        <a href={repoUrl}>\n          <img src={starsImg} alt=\"GitHub stars\" />\n        </a>\n      </li>\n    </ul>\n  </nav>\n)\n\nexport default Footer\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport CoordinateInput from 'react-coordinate-input'\nimport Footer from './Footer'\n\nfunction fill(arr, value, count) {\n  for (let i = 0; i < count; i++) {\n    arr.push(value)\n  }\n  return arr\n}\n\nconst initialState = {\n  value: '',\n  unmaskedValue: '',\n  dd: [],\n  dms: [],\n}\n\nconst selectOptions = [\n  '90, -180',\n  '-90, 180',\n  '42.363, 27.891',\n  '42 27 00 N 067 06 00 W',\n]\n\nconst App = () => {\n  const [ddPrecision, setDDPrecision] = useState(6)\n  const [dmsPrecision, setDMSPrecision] = useState(0)\n  const [selected, setSelected] = useState('')\n  const [state, setState] = useState(initialState)\n  const inputRef = useRef()\n\n  const placeholder = useMemo(() => {\n    let p = '04 08 15.dec N 162 03 42.dec E'\n    let dec = ''\n    if (dmsPrecision > 0) {\n      dec = fill([], 0, dmsPrecision).join('')\n      dec = `.${dec}`\n    }\n    return p.replace(/\\.dec/g, dec)\n  }, [dmsPrecision])\n\n  const handleReset = useCallback(() => {\n    setState(initialState)\n    setSelected('')\n  }, [])\n\n  const handleChange = useCallback((value, props) => {\n    setState({ value, ...props })\n  }, [])\n\n  const handleBlur = useCallback((e) => {\n    console.log('handleBlur', e)\n  }, [])\n\n  const handleChangeDDPrecision = useCallback(\n    (e) => {\n      handleReset()\n      let value = parseInt(e.target.value, 10) || 0\n      value = value < 0 ? 0 : value > 8 ? 8 : value\n      setDDPrecision(value)\n    },\n    [handleReset]\n  )\n\n  const handleChangeDMSPrecision = useCallback(\n    (e) => {\n      handleReset()\n      let value = parseInt(e.target.value, 10) || 0\n      value = value < 0 ? 0 : value > 6 ? 6 : value\n      setDMSPrecision(value)\n    },\n    [handleReset]\n  )\n\n  const handleSelectChange = useCallback(({ target: { value } }) => {\n    setSelected(value)\n    setState({ value })\n  }, [])\n\n  useEffect(() => {\n    //console.log(inputRef.current)\n  }, [])\n\n  const output = {\n    ...state,\n    dms: JSON.stringify(state.dms),\n    dd: JSON.stringify(state.dd),\n  }\n\n  return (\n    <section className=\"hero is-fullheight has-background-light\">\n      <div className=\"hero-body\">\n        <div className=\"container\">\n          <div className=\"column is-8 is-offset-2\">\n            <h3 className=\"title has-text-grey has-text-centered\">\n              React Coordinate Input\n            </h3>\n            <div className=\"box\">\n              <div className=\"field\">\n                <label className=\"label\">Input - Degrees Minutes Seconds</label>\n                <div className=\"control\">\n                  <CoordinateInput\n                    className=\"input\"\n                    ddPrecision={ddPrecision}\n                    dmsPrecision={dmsPrecision}\n                    inputProps={{ id: 'react-coord-input' }}\n                    inputRef={(c) => (inputRef.current = c)}\n                    name=\"coordinate-input\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    placeholder={placeholder}\n                    placeholderChar=\"_\"\n                    value={state.value}\n                  />\n                </div>\n              </div>\n              <div className=\"field is-grouped\">\n                <div className=\"control\">\n                  <div className=\"select\">\n                    <select\n                      disabled={dmsPrecision > 0}\n                      onChange={handleSelectChange}\n                      value={selected}\n                    >\n                      <option value=\"\">Set value...</option>\n                      {selectOptions.map((el) => (\n                        <option>{el}</option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n                <div className=\"control\">\n                  <button className=\"button\" onClick={handleReset}>\n                    Reset\n                  </button>\n                </div>\n              </div>\n              <h5>Options</h5>\n              <div className=\"field\">\n                <label className=\"label is-small has-text-grey\">\n                  Decimal Places for Seconds (0-6)\n                </label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    onChange={handleChangeDMSPrecision}\n                    type=\"number\"\n                    value={dmsPrecision}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label is-small has-text-grey\">\n                  Decimal Places for Decimal Degrees (0-8)\n                </label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    onChange={handleChangeDDPrecision}\n                    type=\"number\"\n                    value={ddPrecision}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">State</label>\n                <div className=\"control\">\n                  <pre>{JSON.stringify(output, null, 2)}</pre>\n                </div>\n              </div>\n            </div>\n            <Footer />\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default App\n","import 'bulma/css/bulma.css'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}